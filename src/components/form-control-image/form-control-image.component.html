<div class="cadrart-form-control-image">
  <div class="cadrart-form-control-image__input">
    @if (!control.value) {
      <cadrart-button [iconOnly]="!control.label()" icon="image" (click)="handleTooltipClick($event)">
        {{ control.label() ? label() : '' | translate }}
      </cadrart-button>
    }
    @if (control.value && control.value !== '') {
      <img
        [src]="control.value | cadrartFieldImagePathPipe : control.folder() : 's'"
        (click)="handleTooltipClick($event)" />
    }
  </div>
</div>

<ng-template #tooltipTemplate>
  <div class="cadrart-form-control-image__input__actions" tooltipContent>
    <cadrart-button [disabled]="!!control.value" color="success" [outline]="true" [iconOnly]="true" icon="camera_alt" (cadrartClick)="handleWebcamClick()">
      {{ 'IMAGE.CAPTURE' | translate }}
    </cadrart-button>
    <cadrart-button [disabled]="!!control.value" color="secondary" [outline]="true" [iconOnly]="true" icon="image" (cadrartClick)="handleLoadClick()">
      {{ 'IMAGE.LOAD' | translate }}
    </cadrart-button>
    <cadrart-button [disabled]="!control.value" color="info" [outline]="true" [iconOnly]="true" icon="open_in_full" (cadrartClick)="handleViewClick()">
      {{ 'IMAGE.VIEW' | translate }}
    </cadrart-button>
    <cadrart-button [disabled]="!control.value" color="danger" [outline]="true" [iconOnly]="true" icon="delete" (cadrartClick)="handleDeleteClick()">
      {{ 'IMAGE.DELETE' | translate }}
    </cadrart-button>
  </div>
</ng-template>
